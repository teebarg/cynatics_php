<?php
/**
 * @class: ResponseCodes
 * @namespace: App\Helper
 *
 * @author: Adeniyi
 */

namespace App\Helpers;


use Illuminate\Support\Facades\Storage;

class FileUploader
{
    const PATH = 'game/';
    const TYPE = '.xls';
    const DISK = 's3';
    const MODE = 'add';
    const DEFAULT_IMAGE = 'data:image/png;base64,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';

    public function upload($image, $modelName, $mode = self::MODE){

        $image_base64 = $this->getBase64($image);
        $name = $this->getName($modelName, $mode);
        $filePath = self::PATH . $name;

        return [ Storage::disk(self::DISK)->put($filePath, $image_base64), $name];
    }


    private function getBase64($image) {
        $image_parts = explode(";base64,", $image);
        return base64_decode($image_parts[1]);
    }

    private function getName($modelName, $mode) {
        if($mode == self::MODE){
            return time().'-'.$modelName. self::TYPE;
        }else {
            return $modelName;
        }
    }

    /**
     * @param $base64
     * @return bool
     */
    public static function check_base64_image($base64) {
        $info = getimagesizefromstring(base64_decode($base64));
        return ($info && ($info[0] > 0 && $info[1] > 0 && $info['mime'])) ? true : false;
    }
}
